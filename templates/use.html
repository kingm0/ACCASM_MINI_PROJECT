<!DOCTYPE html>
<html lang="en">
   <head>
      <!-- basic -->
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <!-- mobile metas -->
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta name="viewport" content="initial-scale=1, maximum-scale=1">
      <!-- site metas -->
      <title>ACCASM</title>
      <meta name="keywords" content="">
      <meta name="description" content="">
      <meta name="author" content="">
      <!-- bootstrap css -->
      <link rel="stylesheet" href="static/css/bootstrap.min.css">
      <!-- style css -->
      <link rel="stylesheet" href="static/css/style.css">
      <!-- Responsive-->
      <link rel="stylesheet" href="static/css/responsive.css">
      <!-- fevicon -->
      <link rel="icon" href="images/fevicon.png" type="image/gif" />
      <!-- Tweaks for older IEs-->
      <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css">
      <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script><![endif]-->
      
      <!-- Enhanced Upload UI Styles -->
      <style>
         .upload-section {
            margin: 30px 0;
            padding: 30px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
            position: relative;
            overflow: hidden;
         }
         
         .upload-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="25" cy="25" r="1" fill="white" opacity="0.1"/><circle cx="75" cy="75" r="1" fill="white" opacity="0.1"/><circle cx="50" cy="10" r="0.5" fill="white" opacity="0.1"/><circle cx="10" cy="60" r="0.5" fill="white" opacity="0.1"/><circle cx="90" cy="40" r="0.5" fill="white" opacity="0.1"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>');
            pointer-events: none;
         }
         
         .file-input-wrapper {
            margin-bottom: 25px;
            position: relative;
            z-index: 1;
         }
         
         .file-input-wrapper input[type="file"] {
            position: absolute;
            opacity: 0;
            width: 100%;
            height: 100%;
            cursor: pointer;
         }
         
         .file-input-label {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px 30px;
            background: rgba(255,255,255,0.95);
            border: 3px dashed #667eea;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            color: #333;
            backdrop-filter: blur(10px);
         }
         
         .file-input-label:hover {
            background: rgba(255,255,255,1);
            border-color: #764ba2;
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
         }
         
         .file-input-label i {
            font-size: 24px;
            margin-right: 15px;
            color: #667eea;
         }
         
         .button-group {
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
            position: relative;
            z-index: 1;
         }
         
         .btn {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 18px 35px;
            border: none;
            border-radius: 50px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            position: relative;
            overflow: hidden;
            min-width: 200px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
         }
         
         .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.5s ease;
         }
         
         .btn:hover::before {
            left: 100%;
         }
         
         .btn i {
            margin-right: 10px;
            font-size: 18px;
         }
         
         .btn-ml {
            background: linear-gradient(135deg, #ff6b6b, #ee5a24);
            color: white;
         }
         
         .btn-ml:hover {
            background: linear-gradient(135deg, #ee5a24, #ff6b6b);
            transform: translateY(-3px);
            box-shadow: 0 15px 35px rgba(255,107,107,0.4);
         }
         
         .btn-gemini {
            background: linear-gradient(135deg, #4ecdc4, #44a08d);
            color: white;
         }
         
         .btn-gemini:hover {
            background: linear-gradient(135deg, #44a08d, #4ecdc4);
            transform: translateY(-3px);
            box-shadow: 0 15px 35px rgba(78,205,196,0.4);
         }
         
         .btn:active {
            transform: translateY(-1px);
         }
         
         .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none !important;
         }
         
         .btn:disabled:hover {
            transform: none !important;
            box-shadow: 0 8px 25px rgba(0,0,0,0.15) !important;
         }
         
         .ml-form, .gemini-form {
            margin: 0;
         }
         
         /* Responsive Design */
         @media (max-width: 768px) {
            .button-group {
               flex-direction: column;
               align-items: center;
            }
            
            .btn {
               width: 100%;
               max-width: 300px;
            }
            
            .upload-section {
               margin: 20px 0;
               padding: 20px;
            }
         }
         
         /* Loading Animation */
         .loading-spinner {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 9999;
            justify-content: center;
            align-items: center;
         }
         
         .spinner {
            width: 60px;
            height: 60px;
            border: 4px solid rgba(255,255,255,0.3);
            border-top: 4px solid #667eea;
            border-radius: 50%;
            animation: spin 1s linear infinite;
         }
         
         @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
         }
      </style>
   </head>
   <!-- body -->
   <body class="main-layout inner_page">
      <!-- loader  -->
      <div class="loader_bg">
         <div class="loader"><img src="static/images/loading.gif" alt="#"/></div>
      </div>
      <!-- end loader -->
      <!-- header -->
      <div class="header">
         <div class="container-fluid">
            <div class="row d_flex">
               <div class=" col-md-2 col-sm-3 col logo_section">
                  <div class="full">
                     <div class="center-desk">
                        <div class="logo">
                           <a href="index.html"><img src="static/images/logos.png" alt="#" /></a>
                        </div>
                     </div>
                  </div>
               </div>
               <div class="col-md-8 col-sm-12">
                  <nav class="navigation navbar navbar-expand-md navbar-dark ">
                     <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExample04" aria-controls="navbarsExample04" aria-expanded="false" aria-label="Toggle navigation">
                     <span class="navbar-toggler-icon"></span>
                     </button>
                     <div class="collapse navbar-collapse" id="navbarsExample04">
                        <ul class="navbar-nav mr-auto">
                           <li class="nav-item">
                              <a class="nav-link" href="index.html">Home</a>
                           </li>
                           <li class="nav-item">
                              <a class="nav-link" href="about.html">About</a>
                           </li>
                           <li class="nav-item">
                              <a class="nav-link" href="use.html">Use Now</a>
                           </li>
                           <!--<li class="nav-item active">
                              <a class="nav-link" href="shop.html">shop</a>
                           </li> -->
                           <li class="nav-item">
                              <a class="nav-link" href="contact.html">Contact Us</a>
                           </li>
                        </ul>
                     </div>
                  </nav>
               </div>
               <div class="col-md-2">
                  <ul class="email text_align_right">
                     <li class="d_none"><a href="Javascript:void(0)"><i class="fa fa-user" aria-hidden="true"></i></a></li>
                     <li class="d_none"> <a href="Javascript:void(0)"><i class="fa fa-search" style="cursor: pointer;" aria-hidden="true"></i></a> </li>
                  </ul>
               </div>
            </div>
         </div>
      </div>
      <!-- end header inner -->
      <!-- shop -->
      <div class="shop">
         <div class="container-fluid">
            <div class="row d_flex d_grid">
               <div class="col-md-7">
                  <div class="shop_img text_align_center" data-aos="fade-right">
                     <figure><img class="img_responsive" src="static/images/use.jpg" alt="#"/></figure>
                  </div>
               </div>
               <div class="col-md-5 order_1_mobile">
                  <div class="titlepage text_align_left ">
                     <h2>Our Exam Document Access<br> Support</h2>
                     <p>
                        To use the model, start by uploading your PDF file using the upload option provided. Once uploaded, the file will be automatically processed and converted into high-quality images, with each page turned into a separate image. These images are then prepared for analysis, ensuring they are clear and consistent in size. This setup allows the model to work accurately and efficiently on your uploaded content without requiring any additional steps from your side.
                     </p>
                     <!-- <a class="read_more" href="use.html">Buy Now</a> -->
                     <div class="upload-section">
                        <div class="file-input-wrapper">
                           <input type="file" id="pdfFile" name="pdf" accept=".pdf" required>
                           <label for="pdfFile" class="file-input-label">
                              <i class="fa fa-cloud-upload"></i>
                              <span>Choose PDF File</span>
                           </label>
                        </div>
                        
                        <div class="button-group">
                           <form method="POST" action="/upload" enctype="multipart/form-data" id="mlForm" style="display: none;">
                              <input type="file" name="pdf" id="mlFileInput">
                           </form>
                           
                           <form method="POST" action="/upload-gemini" enctype="multipart/form-data" id="geminiForm" style="display: none;">
                              <input type="file" name="pdf" id="geminiFileInput">
                           </form>
                           
                           <button type="button" class="btn btn-ml" id="mlButton" disabled>
                              <i class="fa fa-brain"></i>
                              <span>Process with ML Model</span>
                           </button>
                           
                           <button type="button" class="btn btn-gemini" id="geminiButton" disabled>
                              <i class="fa fa-magic"></i>
                              <span>Process with ACCASM</span>
                           </button>
                        </div>
                     </div>
                     <br>
                     <br>
                     <br>
                  </div>
               </div>
            </div>
         </div>
      </div>
      <!-- end shop -->
      <!--  footer -->
      <footer>
         <div class="footer">
            <div class="container">
               <div class="row">
                  <div class="col-md-4 ">
                     <div class="infoma">
                        <h3>Contact Us</h3>
                        <ul class="conta">
                           <li><i class="fa fa-map-marker" aria-hidden="true"></i>Location 
                           </li>
                           <li><i class="fa fa-phone" aria-hidden="true"></i>Call +01 1234567890</li>
                           <li> <i class="fa fa-envelope" aria-hidden="true"></i><a href="Javascript:void(0)"> demo@gmail.com</a></li>
                        </ul>
                     </div>
                  </div>
                  <div class="col-md-8">
                     <div class="row border_left">
                        <div class="col-md-12">
                           <div class="infoma">
                              <h3>Newsletter</h3>
                              <form class="form_subscri">
                                 <div class="row">
                                    <div class="col-md-12">
                                    </div>
                                    <div class="col-md-4">
                                       <input class="newsl" placeholder="Enter your email" type="text" name="Enter your email">
                                    </div>
                                    <div class="col-md-4">
                                       <input class="newsl" placeholder="Enter your email" type="text" name="Enter your email">
                                    </div>
                                    <div class="col-md-4">
                                       <button class="subsci_btn">subscribe</button>
                                    </div>
                                 </div>
                              </form>
                           </div>
                        </div>
                        <div class="col-md-9">
                           <div class="infoma">
                              <h3>Useful Link</h3>
                              <ul class="fullink">
                                 <li><a href="index.html">Home</a></li>
                                 <li><a href="about.html">About</a></li>
                                 <!-- <li><a href="skating.html">Skating</a></li>
                                 <li><a href="shop.html">Shop</a></li> -->
                                 <li><a href="contact.html">Contact Us</a></li>
                              </ul>
                           </div>
                        </div>
                        <div class="col-md-3">
                           <div class="infoma text_align_left">
                              <ul class="social_icon">
                                 <li><a href="Javascript:void(0)"><i class="fa fa-facebook" aria-hidden="true"></i></a></li>
                                 <li><a href="Javascript:void(0)"><i class="fa fa-twitter" aria-hidden="true"></i></a></li>
                                 <li><a href="Javascript:void(0)"><i class="fa fa-linkedin-square" aria-hidden="true"></i></a></li>
                                 <li><a href="Javascript:void(0)"><i class="fa fa-instagram" aria-hidden="true"></i></a></li>
                              </ul>
                           </div>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
            <div class="copyright">
               <div class="container">
                  <div class="row">
                     <div class="col-md-12">
                        <p>Â© 2025 All Rights Reserved.</p>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </footer>
      <!-- end footer -->
      <!-- Javascript files-->
      <script src="static/js/jquery.min.js"></script>
      <script src="static/js/bootstrap.bundle.min.js"></script>
      <script src="static/js/jquery-3.0.0.min.js"></script>
      <!-- sidebar -->
      <script src="static/js/custom.js"></script>
      <script>
         // Initialize AOS only if it's available
         if (typeof AOS !== 'undefined') {
            AOS.init();
         }
         
         // Enhanced file upload functionality
         document.addEventListener('DOMContentLoaded', function() {
            const pdfFileInput = document.getElementById('pdfFile');
            const mlButton = document.getElementById('mlButton');
            const geminiButton = document.getElementById('geminiButton');
            
            // Create loading spinner
            const loadingSpinner = document.createElement('div');
            loadingSpinner.className = 'loading-spinner';
            loadingSpinner.innerHTML = `
               <div style="text-align: center; color: white;">
                  <div class="spinner"></div>
                  <p style="margin-top: 20px; font-size: 18px; font-weight: 600;">Processing your document...</p>
                  <p style="margin-top: 10px; opacity: 0.8;">Please wait while we analyze your PDF</p>
               </div>
            `;
            document.body.appendChild(loadingSpinner);
            
            // Handle file selection
            pdfFileInput.addEventListener('change', function(e) {
               const file = e.target.files[0];
               console.log('File selected:', file); // Debug log
               if (file) {
                  // Update label text
                  const label = document.querySelector('.file-input-label span');
                  label.textContent = `Selected: ${file.name}`;
                  
                  // Update hidden form inputs
                  const mlFileInput = document.getElementById('mlFileInput');
                  const geminiFileInput = document.getElementById('geminiFileInput');
                  
                  // Create new file inputs with the selected file
                  const mlClone = mlFileInput.cloneNode(true);
                  mlClone.files = e.target.files;
                  mlFileInput.parentNode.replaceChild(mlClone, mlFileInput);
                  
                  const geminiClone = geminiFileInput.cloneNode(true);
                  geminiClone.files = e.target.files;
                  geminiFileInput.parentNode.replaceChild(geminiClone, geminiFileInput);
                  
                  // Enable buttons
                  mlButton.disabled = false;
                  geminiButton.disabled = false;
                  
                  console.log('Buttons enabled'); // Debug log
               }
            });
            
            // Handle ML button click
            mlButton.addEventListener('click', function() {
               console.log('ML button clicked'); // Debug log
               if (!pdfFileInput.files[0]) {
                  alert('Please select a PDF file first!');
                  return;
               }
               
               console.log('Uploading file:', pdfFileInput.files[0].name); // Debug log
               
               // Show loading spinner
               loadingSpinner.style.display = 'flex';
               loadingSpinner.querySelector('p').textContent = 'Processing with ML Model...';
               loadingSpinner.querySelector('p:last-child').textContent = 'Analyzing document structure and extracting content';
               
               // Try fetch first, fallback to form submission
               try {
                  const formData = new FormData();
                  formData.append('pdf', pdfFileInput.files[0]);
                  
                  fetch('/upload', {
                     method: 'POST',
                     body: formData
                  })
                  .then(response => {
                     console.log('Response received:', response); // Debug log
                     if (response.ok) {
                        window.location.href = response.url;
                     } else {
                        alert('Error uploading file. Please try again.');
                        loadingSpinner.style.display = 'none';
                     }
                  })
                  .catch(error => {
                     console.error('Fetch error:', error);
                     // Fallback to form submission
                     console.log('Falling back to form submission');
                     document.getElementById('mlForm').submit();
                  });
               } catch (error) {
                  console.error('Error:', error);
                  // Fallback to form submission
                  console.log('Falling back to form submission');
                  document.getElementById('mlForm').submit();
               }
            });
            
            // Handle Gemini button click
            geminiButton.addEventListener('click', function() {
               console.log('Gemini button clicked'); // Debug log
               if (!pdfFileInput.files[0]) {
                  alert('Please select a PDF file first!');
                  return;
               }
               
               console.log('Uploading file to Gemini:', pdfFileInput.files[0].name); // Debug log
               
               // Show loading spinner
               loadingSpinner.style.display = 'flex';
               loadingSpinner.querySelector('p').textContent = 'Processing with ACCASM...';
               loadingSpinner.querySelector('p:last-child').textContent = 'Generating intelligent analysis and insights';
               
               // Try fetch first, fallback to form submission
               try {
                  const formData = new FormData();
                  formData.append('pdf', pdfFileInput.files[0]);
                  
                  fetch('/upload-gemini', {
                     method: 'POST',
                     body: formData
                  })
                  .then(response => {
                     console.log('Gemini response received:', response); // Debug log
                     if (response.ok) {
                        window.location.href = response.url;
                     } else {
                        alert('Error uploading file. Please try again.');
                        loadingSpinner.style.display = 'none';
                     }
                  })
                  .catch(error => {
                     console.error('Fetch error:', error);
                     // Fallback to form submission
                     console.log('Falling back to form submission');
                     document.getElementById('geminiForm').submit();
                  });
               } catch (error) {
                  console.error('Error:', error);
                  // Fallback to form submission
                  console.log('Falling back to form submission');
                  document.getElementById('geminiForm').submit();
               }
            });
            
            // Add drag and drop functionality
            const fileInputLabel = document.querySelector('.file-input-label');
            
            fileInputLabel.addEventListener('dragover', function(e) {
               e.preventDefault();
               fileInputLabel.style.borderColor = '#764ba2';
               fileInputLabel.style.backgroundColor = 'rgba(255,255,255,1)';
            });
            
            fileInputLabel.addEventListener('dragleave', function(e) {
               e.preventDefault();
               fileInputLabel.style.borderColor = '#667eea';
               fileInputLabel.style.backgroundColor = 'rgba(255,255,255,0.95)';
            });
            
            fileInputLabel.addEventListener('drop', function(e) {
               e.preventDefault();
               const files = e.dataTransfer.files;
               if (files.length > 0 && files[0].type === 'application/pdf') {
                  pdfFileInput.files = files;
                  pdfFileInput.dispatchEvent(new Event('change'));
               } else {
                  alert('Please drop a PDF file only!');
               }
               fileInputLabel.style.borderColor = '#667eea';
               fileInputLabel.style.backgroundColor = 'rgba(255,255,255,0.95)';
            });
         });
      </script>
   </body>
</html>